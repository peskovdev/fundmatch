{"openapi":"3.0.2","info":{"title":"FundMatch","description":"Мегапроект по сбору средств. Описание добавить позже","version":"0.1.0"},"paths":{"/healthcheck/ping":{"get":{"tags":["Health check"],"summary":"Check Cart","description":"Health Check","operationId":"check_cart_healthcheck_ping_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Check Cart Healthcheck Ping Get","type":"object"}}}}}}},"/auth/login":{"post":{"tags":["Auth"],"summary":"Login","description":"1. Принимает на вход номер телефона\n2. Создает пользователя если его не существовало\n3. Генерируют одноразовый код входа\n4. Отправляет смс с кодом пользователю","operationId":"login_auth_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Login Auth Login Post","type":"object"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/confirm-code":{"post":{"tags":["Auth"],"summary":"Confirm Code","description":"1. Принимает на вход код подтверждения\n2. При валидном коде высылает токен авторизации","operationId":"confirm_code_auth_confirm_code_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConfirmCodeRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Confirm Code Auth Confirm Code Post","type":"object"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/change-username":{"patch":{"tags":["Auth"],"summary":"Change Username","operationId":"change_username_auth_change_username_patch","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChangeUsernameRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyHeader":[]}]}},"/auth/get-credentials":{"get":{"tags":["Auth"],"summary":"Get Credentials","description":"Ручка принимает токен в заголовках и возвращает данные пользователя","operationId":"get_credentials_auth_get_credentials_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}}},"security":[{"APIKeyHeader":[]}]}},"/auth/get-user":{"get":{"tags":["Auth"],"summary":"Get User","description":"Возвращает информацию о пользователе по номеру","operationId":"get_user_auth_get_user_get","parameters":[{"required":true,"schema":{"title":"Phone","type":"string"},"name":"phone","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyHeader":[]}]}},"/team/create":{"post":{"tags":["Team"],"summary":"Create Team","description":"Создание команды","operationId":"create_team_team_create_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TeamCreateRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TeamResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyHeader":[]}]}},"/team":{"get":{"tags":["Team"],"summary":"Get Team","description":"Получить свою команду","operationId":"get_team_team_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TeamResponse"}}}}},"security":[{"APIKeyHeader":[]}]}},"/team/{team_id}":{"get":{"tags":["Team"],"summary":"Get Team By Id","description":"Просмотр команды","operationId":"get_team_by_id_team__team_id__get","parameters":[{"required":true,"schema":{"title":"Team Id","type":"integer"},"name":"team_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TeamResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyHeader":[]}]}},"/team/invite":{"post":{"tags":["Team"],"summary":"Invite Member","description":"Пригласить участника в команду","operationId":"invite_member_team_invite_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TeamInviteMemberRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TeamResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyHeader":[]}]}},"/team/remove-member":{"delete":{"tags":["Team"],"summary":"Remove Member","description":"Удалить члена команды","operationId":"remove_member_team_remove_member_delete","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TeamMemberRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TeamResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyHeader":[]}]}},"/event/create":{"post":{"tags":["Event"],"summary":"Add Event","description":"Health Check","operationId":"add_event_event_create_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EventCreateRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EventResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyHeader":[]}]}},"/event/{event_id}":{"get":{"tags":["Event"],"summary":"Get Event","description":"Health Check","operationId":"get_event_event__event_id__get","parameters":[{"required":true,"schema":{"title":"Event Id","type":"integer"},"name":"event_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EventResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyHeader":[]}]}},"/event/contribute":{"post":{"tags":["Event"],"summary":"Make Contribution","description":"Health Check","operationId":"make_contribution_event_contribute_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ContributionRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EventResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"ChangeUsernameRequest":{"title":"ChangeUsernameRequest","type":"object","properties":{"full_name":{"title":"Full Name","type":"string","default":"John Doe"}}},"ConfirmCodeRequest":{"title":"ConfirmCodeRequest","type":"object","properties":{"code":{"title":"Code","type":"string","default":"491341"},"phone":{"title":"Phone","type":"string","default":"+77771119999"}}},"ContributionRequest":{"title":"ContributionRequest","required":["user_id","event_id"],"type":"object","properties":{"user_id":{"title":"User Id","type":"integer"},"event_id":{"title":"Event Id","type":"integer"}}},"ContributionResponse":{"title":"ContributionResponse","required":["id","user","amount"],"type":"object","properties":{"id":{"title":"Id","type":"integer"},"user":{"$ref":"#/components/schemas/UserResponse"},"amount":{"title":"Amount","type":"number"}}},"EventCreateRequest":{"title":"EventCreateRequest","type":"object","properties":{"title":{"title":"Title","type":"string","default":"Football 23.05.2023"},"goal":{"title":"Goal","type":"number","default":75000.0},"address":{"title":"Address","type":"string","default":"Алалыкина 11"},"event_time":{"title":"Event Time","type":"string","default":"23/05/2023"},"notes":{"title":"Notes","type":"string","default":"Взять тормозки"}}},"EventResponse":{"title":"EventResponse","required":["id","team_id","goal","current_amount","contributions","status","address","event_time","notes","participants"],"type":"object","properties":{"id":{"title":"Id","type":"integer"},"title":{"title":"Title","type":"string","default":"Football 23.05.2023"},"team_id":{"title":"Team Id","type":"integer"},"goal":{"title":"Goal","type":"number"},"current_amount":{"title":"Current Amount","type":"number"},"contributions":{"title":"Contributions","type":"array","items":{"$ref":"#/components/schemas/ContributionResponse"}},"status":{"$ref":"#/components/schemas/EventStatus"},"address":{"title":"Address","type":"string"},"event_time":{"title":"Event Time","type":"string","format":"date"},"notes":{"title":"Notes","type":"string"},"participants":{"title":"Participants","type":"array","items":{"$ref":"#/components/schemas/UserResponse"}}}},"EventStatus":{"title":"EventStatus","enum":["Сумма для проведения ивента собирается","Сумма для проведения ивента собрана","Ивент завершился","Ивент отменен"],"type":"string","description":"An enumeration."},"EventSubResponse":{"title":"EventSubResponse","required":["id","goal","current_amount","contributions","status","address","event_time","notes"],"type":"object","properties":{"id":{"title":"Id","type":"integer"},"title":{"title":"Title","type":"string","default":"Football 23.05.2023"},"goal":{"title":"Goal","type":"number"},"current_amount":{"title":"Current Amount","type":"number"},"contributions":{"title":"Contributions","type":"array","items":{"$ref":"#/components/schemas/ContributionResponse"}},"status":{"$ref":"#/components/schemas/EventStatus"},"address":{"title":"Address","type":"string"},"event_time":{"title":"Event Time","type":"string","format":"date"},"notes":{"title":"Notes","type":"string"}}},"HTTPValidationError":{"title":"HTTPValidationError","type":"object","properties":{"detail":{"title":"Detail","type":"array","items":{"$ref":"#/components/schemas/ValidationError"}}}},"LoginRequest":{"title":"LoginRequest","type":"object","properties":{"phone":{"title":"Phone","type":"string","default":"+77771119999"}}},"TeamCreateRequest":{"title":"TeamCreateRequest","type":"object","properties":{"name":{"title":"Name","type":"string","default":"Navi"}}},"TeamInviteMemberRequest":{"title":"TeamInviteMemberRequest","type":"object","properties":{"phone":{"title":"Phone","type":"string","default":"+77771119999"}}},"TeamMemberRequest":{"title":"TeamMemberRequest","required":["id"],"type":"object","properties":{"id":{"title":"Id","type":"integer"}}},"TeamResponse":{"title":"TeamResponse","required":["id","manager","members","events","count_members","count_events"],"type":"object","properties":{"id":{"title":"Id","type":"string"},"name":{"title":"Name","type":"string","default":"Navi"},"manager":{"$ref":"#/components/schemas/UserResponse"},"members":{"title":"Members","type":"array","items":{"$ref":"#/components/schemas/UserResponse"}},"events":{"title":"Events","type":"array","items":{"$ref":"#/components/schemas/EventSubResponse"}},"count_members":{"title":"Count Members","type":"integer"},"count_events":{"title":"Count Events","type":"integer"}}},"UserResponse":{"title":"UserResponse","required":["id"],"type":"object","properties":{"id":{"title":"Id","type":"integer"},"phone":{"title":"Phone","type":"string","default":"+77771119999"},"full_name":{"title":"Full Name","type":"string","default":"John Doe"}}},"ValidationError":{"title":"ValidationError","required":["loc","msg","type"],"type":"object","properties":{"loc":{"title":"Location","type":"array","items":{"anyOf":[{"type":"string"},{"type":"integer"}]}},"msg":{"title":"Message","type":"string"},"type":{"title":"Error Type","type":"string"}}}},"securitySchemes":{"APIKeyHeader":{"type":"apiKey","in":"header","name":"Authorization"}}}}